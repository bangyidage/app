{"ast":null,"code":"var _jsxFileName = \"/Users/xhwl0101030093/github/app-react-router-redux/src/pages/login/index.js\";\nimport React from 'react';\nimport './style.css';\nimport { store } from '../../store/store.js';\nimport { ADD_ACTION, REDUCE_ACTION } from '../../store/action-creators';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.userChange = e => {\n      this.setState({\n        username: e.target.value && e.target.value.trim()\n      });\n    };\n\n    this.passwordChange = e => {\n      this.setState({\n        password: e.target.value && e.target.value.trim()\n      });\n    };\n\n    this.confirmData = data => {\n      let res = true;\n\n      for (let item in data) {\n        console.log(data[item].length);\n\n        if (data[item].length === 0) {\n          res = false;\n        }\n      }\n\n      console.log('res:' + res);\n      return res;\n    };\n\n    this.listerner = () => {\n      let newState = store.getState();\n      this.setState(newState);\n    };\n\n    this.loginIn = e => {\n      const {\n        userID,\n        username,\n        password\n      } = this.state;\n      let data = {\n        userID: userID,\n        username: username,\n        password: password\n      };\n      console.log(data);\n\n      if (!this.confirmData(data)) {\n        alert('null');\n        return;\n      }\n\n      const action = ADD_ACTION(data);\n      store.dispatch(action);\n      store.subscribe(this.listerner);\n    };\n\n    this.result = e => {\n      const {\n        userID,\n        username,\n        password\n      } = this.state;\n      window.alert(password, password, userID);\n    };\n\n    this.userIDChange = () => {};\n\n    this.loginOut = () => {\n      const {\n        userID,\n        username,\n        password\n      } = this.state;\n      let data = {\n        userID: userID,\n        username: username,\n        password: password\n      };\n      console.log(data);\n\n      if (!this.confirmData(data)) {\n        alert('null');\n        return;\n      }\n\n      const action = REDUCE_ACTION(data);\n      store.dispatch(action);\n      store.subscribe(this.listerner);\n    };\n\n    console.log(store.getState());\n    this.state = {\n      userID: 1,\n      username: '',\n      password: ''\n    };\n  }\n\n  componentDidMount() {}\n\n  render() {\n    const {\n      userID,\n      username,\n      password\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"title\",\n        children: \"\\u6CE8\\u518C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-wrap\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"userID\",\n          className: \"input-title\",\n          children: \"\\u7528\\u6237\\u540DID:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"userID\",\n          className: \"input\",\n          value: userID,\n          onChange: this.userIDChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-wrap\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"user\",\n          className: \"input-title\",\n          children: \"\\u7528\\u6237\\u540D:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"user\",\n          className: \"input\",\n          value: username,\n          onChange: this.userChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-wrap\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"password\",\n          className: \"input-title\",\n          children: \"\\u5BC6 \\u7801:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"password\",\n          className: \"input\",\n          onChange: this.passwordChange,\n          value: password\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"btn\",\n        onClick: this.loginIn,\n        children: \"\\u6CE8\\u518Cadd\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"btn\",\n        onClick: this.loginOut,\n        children: \"\\u6CE8\\u518Creduce\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"btn result\",\n        onClick: this.result,\n        children: \"\\u7ED3\\u679C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/xhwl0101030093/github/app-react-router-redux/src/pages/login/index.js"],"names":["React","store","ADD_ACTION","REDUCE_ACTION","Login","Component","constructor","props","userChange","e","setState","username","target","value","trim","passwordChange","password","confirmData","data","res","item","console","log","length","listerner","newState","getState","loginIn","userID","state","alert","action","dispatch","subscribe","result","window","userIDChange","loginOut","componentDidMount","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,aAAP;AACA,SAASC,KAAT,QAAsB,sBAAtB;AACA,SAASC,UAAT,EAAqBC,aAArB,QAA0C,6BAA1C;;AAEA,eAAe,MAAMC,KAAN,SAAoBJ,KAAK,CAACK,SAA1B,CAAoC;AACjDC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAanBC,UAbmB,GAaLC,CAAD,IAAO;AAClB,WAAKC,QAAL,CAAc;AACZC,QAAAA,QAAQ,EAAEF,CAAC,CAACG,MAAF,CAASC,KAAT,IAAkBJ,CAAC,CAACG,MAAF,CAASC,KAAT,CAAeC,IAAf;AADhB,OAAd;AAGD,KAjBkB;;AAAA,SAkBnBC,cAlBmB,GAkBDN,CAAD,IAAO;AACtB,WAAKC,QAAL,CAAc;AACZM,QAAAA,QAAQ,EAAEP,CAAC,CAACG,MAAF,CAASC,KAAT,IAAkBJ,CAAC,CAACG,MAAF,CAASC,KAAT,CAAeC,IAAf;AADhB,OAAd;AAGD,KAtBkB;;AAAA,SAwBnBG,WAxBmB,GAwBJC,IAAD,IAAU;AACtB,UAAIC,GAAG,GAAG,IAAV;;AACA,WAAK,IAAIC,IAAT,IAAiBF,IAAjB,EAAuB;AACrBG,QAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAI,CAACE,IAAD,CAAJ,CAAWG,MAAvB;;AACA,YAAIL,IAAI,CAACE,IAAD,CAAJ,CAAWG,MAAX,KAAsB,CAA1B,EAA6B;AAC3BJ,UAAAA,GAAG,GAAG,KAAN;AACD;AACF;;AACDE,MAAAA,OAAO,CAACC,GAAR,CAAY,SAASH,GAArB;AACA,aAAOA,GAAP;AACD,KAlCkB;;AAAA,SAmCnBK,SAnCmB,GAmCP,MAAM;AAChB,UAAIC,QAAQ,GAAGxB,KAAK,CAACyB,QAAN,EAAf;AACA,WAAKhB,QAAL,CAAce,QAAd;AACD,KAtCkB;;AAAA,SAuCnBE,OAvCmB,GAuCRlB,CAAD,IAAO;AAEf,YAAM;AAAEmB,QAAAA,MAAF;AAAUjB,QAAAA,QAAV;AAAoBK,QAAAA;AAApB,UAAiC,KAAKa,KAA5C;AAEA,UAAIX,IAAI,GAAG;AACTU,QAAAA,MAAM,EAAEA,MADC;AAETjB,QAAAA,QAAQ,EAAEA,QAFD;AAGTK,QAAAA,QAAQ,EAAEA;AAHD,OAAX;AAKAK,MAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAZ;;AACA,UAAI,CAAC,KAAKD,WAAL,CAAiBC,IAAjB,CAAL,EAA6B;AAC3BY,QAAAA,KAAK,CAAC,MAAD,CAAL;AACA;AACD;;AAED,YAAMC,MAAM,GAAG7B,UAAU,CAACgB,IAAD,CAAzB;AACAjB,MAAAA,KAAK,CAAC+B,QAAN,CAAeD,MAAf;AAEA9B,MAAAA,KAAK,CAACgC,SAAN,CAAgB,KAAKT,SAArB;AAED,KA3DkB;;AAAA,SA4DnBU,MA5DmB,GA4DTzB,CAAD,IAAO;AACd,YAAM;AAAEmB,QAAAA,MAAF;AAAUjB,QAAAA,QAAV;AAAoBK,QAAAA;AAApB,UAAiC,KAAKa,KAA5C;AACAM,MAAAA,MAAM,CAACL,KAAP,CAAad,QAAb,EAAuBA,QAAvB,EAAiCY,MAAjC;AACD,KA/DkB;;AAAA,SAgEnBQ,YAhEmB,GAgEJ,MAAM,CAEpB,CAlEkB;;AAAA,SAmEnBC,QAnEmB,GAmER,MAAM;AACf,YAAM;AAAET,QAAAA,MAAF;AAAUjB,QAAAA,QAAV;AAAoBK,QAAAA;AAApB,UAAiC,KAAKa,KAA5C;AAEA,UAAIX,IAAI,GAAG;AACTU,QAAAA,MAAM,EAAEA,MADC;AAETjB,QAAAA,QAAQ,EAAEA,QAFD;AAGTK,QAAAA,QAAQ,EAAEA;AAHD,OAAX;AAKAK,MAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAZ;;AACA,UAAI,CAAC,KAAKD,WAAL,CAAiBC,IAAjB,CAAL,EAA6B;AAC3BY,QAAAA,KAAK,CAAC,MAAD,CAAL;AACA;AACD;;AACD,YAAMC,MAAM,GAAG5B,aAAa,CAACe,IAAD,CAA5B;AACAjB,MAAAA,KAAK,CAAC+B,QAAN,CAAeD,MAAf;AACA9B,MAAAA,KAAK,CAACgC,SAAN,CAAgB,KAAKT,SAArB;AACD,KAnFkB;;AAEjBH,IAAAA,OAAO,CAACC,GAAR,CAAYrB,KAAK,CAACyB,QAAN,EAAZ;AACA,SAAKG,KAAL,GAAa;AACXD,MAAAA,MAAM,EAAE,CADG;AAEXjB,MAAAA,QAAQ,EAAE,EAFC;AAGXK,MAAAA,QAAQ,EAAE;AAHC,KAAb;AAKD;;AAEDsB,EAAAA,iBAAiB,GAAG,CAEnB;;AAwEDC,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEX,MAAAA,MAAF;AAAUjB,MAAAA,QAAV;AAAoBK,MAAAA;AAApB,QAAiC,KAAKa,KAA5C;AACA,wBACE;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA,8BACE;AAAK,QAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA,gCACE;AAAO,UAAA,OAAO,EAAC,QAAf;AAAwB,UAAA,SAAS,EAAC,aAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAO,UAAA,EAAE,EAAC,QAAV;AACE,UAAA,SAAS,EAAC,OADZ;AAEE,UAAA,KAAK,EAAED,MAFT;AAGE,UAAA,QAAQ,EAAE,KAAKQ;AAHjB;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF,eAUE;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA,gCACE;AAAO,UAAA,OAAO,EAAC,MAAf;AAAsB,UAAA,SAAS,EAAC,aAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAO,UAAA,EAAE,EAAC,MAAV;AACE,UAAA,SAAS,EAAC,OADZ;AAEE,UAAA,KAAK,EAAEzB,QAFT;AAGE,UAAA,QAAQ,EAAE,KAAKH;AAHjB;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cAVF,eAkBE;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA,gCACE;AAAO,UAAA,OAAO,EAAC,UAAf;AAA0B,UAAA,SAAS,EAAC,aAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAO,UAAA,EAAE,EAAC,UAAV;AACE,UAAA,SAAS,EAAC,OADZ;AAEE,UAAA,QAAQ,EAAE,KAAKO,cAFjB;AAGE,UAAA,KAAK,EAAEC;AAHT;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cAlBF,eA2BE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAqB,QAAA,OAAO,EAAE,KAAKW,OAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cA3BF,eA4BE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAqB,QAAA,OAAO,EAAE,KAAKU,QAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cA5BF,eA6BE;AAAK,QAAA,SAAS,EAAC,YAAf;AAA4B,QAAA,OAAO,EAAE,KAAKH,MAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cA7BF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAiCD;;AAxHgD","sourcesContent":["import React from 'react'\nimport './style.css'\nimport { store } from '../../store/store.js'\nimport { ADD_ACTION, REDUCE_ACTION } from '../../store/action-creators'\n\nexport default class Login extends React.Component {\n  constructor(props) {\n    super(props)\n    console.log(store.getState())\n    this.state = {\n      userID: 1,\n      username: '',\n      password: ''\n    }\n  }\n\n  componentDidMount() {\n\n  }\n  userChange = (e) => {\n    this.setState({\n      username: e.target.value && e.target.value.trim()\n    })\n  }\n  passwordChange = (e) => {\n    this.setState({\n      password: e.target.value && e.target.value.trim()\n    })\n  }\n  //空\n  confirmData = (data) => {\n    let res = true\n    for (let item in data) {\n      console.log(data[item].length)\n      if (data[item].length === 0) {\n        res = false\n      }\n    }\n    console.log('res:' + res)\n    return res\n  }\n  listerner = () => {\n    let newState = store.getState();\n    this.setState(newState);\n  }\n  loginIn = (e) => {\n\n    const { userID, username, password } = this.state\n\n    let data = {\n      userID: userID,\n      username: username,\n      password: password\n    }\n    console.log(data)\n    if (!this.confirmData(data)) {\n      alert('null')\n      return\n    }\n\n    const action = ADD_ACTION(data)\n    store.dispatch(action)\n\n    store.subscribe(this.listerner)\n\n  }\n  result = (e) => {\n    const { userID, username, password } = this.state\n    window.alert(password, password, userID)\n  }\n  userIDChange = () => {\n\n  }\n  loginOut = () => {\n    const { userID, username, password } = this.state\n\n    let data = {\n      userID: userID,\n      username: username,\n      password: password\n    }\n    console.log(data)\n    if (!this.confirmData(data)) {\n      alert('null')\n      return\n    }\n    const action = REDUCE_ACTION(data)\n    store.dispatch(action)\n    store.subscribe(this.listerner)\n  }\n  render() {\n    const { userID, username, password } = this.state\n    return (\n      <div className=\"login\">\n        <div className=\"title\">注册</div>\n        <div className=\"input-wrap\">\n          <label htmlFor=\"userID\" className=\"input-title\">用户名ID:</label>\n          <input id=\"userID\"\n            className=\"input\"\n            value={userID}\n            onChange={this.userIDChange}\n          />\n        </div>\n        <div className=\"input-wrap\">\n          <label htmlFor=\"user\" className=\"input-title\">用户名:</label>\n          <input id=\"user\"\n            className=\"input\"\n            value={username}\n            onChange={this.userChange}\n          />\n        </div>\n        <div className=\"input-wrap\">\n          <label htmlFor=\"password\" className=\"input-title\">密 码:</label>\n          <input id=\"password\"\n            className=\"input\"\n            onChange={this.passwordChange}\n            value={password}\n          />\n        </div>\n\n        <div className=\"btn\" onClick={this.loginIn}>注册add</div>\n        <div className=\"btn\" onClick={this.loginOut}>注册reduce</div>\n        <div className=\"btn result\" onClick={this.result}>结果</div>\n      </div>\n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}